@page
@model Hillerød_Sejlklub.Pages.Blog.IndexModel
@{
}

<div style="max-width:900px;margin:20px auto;padding:16px;">
    <h2>Tidligere blogindlæg</h2>

    @if (Model.BlogPosts == null || !Model.BlogPosts.Any())
    {
        <p>Her ser tomt ud.</p>
    }
    else
    {
        <section class="blog-list" style="display:grid;gap:16px;">
            @foreach (var post in Model.BlogPosts.OrderByDescending(p => p.PublishedDate))
            {
                <article class="blog-post" style="background:#fff;color:#111;padding:16px;border-radius:8px;box-shadow:0 1px 6px rgba(0,0,0,0.06);max-width:100%;overflow:hidden;">
                    <h3 style="margin:0 0 6px;">@post.Title</h3>
                    <div class="meta" style="font-size:0.9rem;color:#666;margin-bottom:8px;">By @post.Author — @post.PublishedDate.ToString("yyyy-MM-dd HH:mm")</div>

                    @if (!string.IsNullOrEmpty(post.ImagePath))
                    {
                        <img src="@post.ImagePath"
                             alt="Blog image"
                             style="width:100%; max-height:400px; object-fit:cover; border-radius:8px; margin-bottom:12px;" />
                    }

                    <div class="content" style="white-space:pre-wrap;overflow-wrap:anywhere;word-break:break-word;line-height:1.5;color:#222;">
                        @Html.Raw(System.Net.WebUtility.HtmlEncode(post.Content))
                    </div>
                </article>
            }
        </section>
    }

    @section Scripts {
        <partial name="_ValidationScriptsPartial" />
    }
</div>
